{"version":3,"file":"Embeddings.js","sourceRoot":"","sources":["../src/Embeddings.ts"],"names":[],"mappings":"AAAA;;;;;GAKG;AACH,MAAM,UAAU,4BAA4B,CAAC,YAE5C;IACC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE,CAAC;QAC3C,MAAM,IAAI,KAAK,CACb,qEAAqE,CACtE,CAAC;IACJ,CAAC;IAED,OAAO,IAAI,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;AAClD,CAAC;AAED,MAAM,CAAC,MAAM,UAAU,GAAG;IACxB,4BAA4B;CAC7B,CAAC","sourcesContent":["/**\n * Convert Ollama JSON embedding response to Float64Array with full precision.\n *\n * @param jsonResponse - The JSON response from Ollama's /api/embeddings endpoint\n * @returns Float64Array containing 64-bit float values\n */\nexport function parseEmbeddingToFloat64Array(jsonResponse: {\n  embedding: number[];\n}): Float64Array {\n  if (!Array.isArray(jsonResponse.embedding)) {\n    throw new Error(\n      'Invalid embedding response: missing or malformed \"embedding\" array.'\n    );\n  }\n\n  return new Float64Array(jsonResponse.embedding);\n}\n\nexport const Embeddings = {\n  parseEmbeddingToFloat64Array,\n};\n"]}